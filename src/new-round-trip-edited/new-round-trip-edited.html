<md-card class="card-background">
  <h3 class="center-header" style="margin-top: 20px">
    <b>STEP 4:</b> Please enter all information about your flights.  
  </h3>
  <h4 class="mid-header" style="width: 50%; margin-top: 20px; margin: 0 auto; line-height: 1.35;">Enter your starting and destination cities for record-keeping purposes. Please follow the placeholder template in the text area below, i.e. "Portland to Seattle, or "Boston to Austin".</h4>
  <md-input-container style="width: 350px; margin: 0 auto;">
      <!--<h4 style="margin-bottom: 10px;">
          Trip Details: 
        </h4>-->
      <input type="text" style="margin-left: 10px;" placeholder="i.e. Portland to Seattle" required>
    </md-input-container>
  <div layout="row" layout-align="center center">
    <h3 style="margin-top: 20px; margin-bottom: 10px; color: crimson;"><i> Add all flights for this trip, including return flights:</i></h3>
    <md-button ng-click="$ctrl.addNewFlight()" class="md-raised md-accent">Add Another Flight</md-button>
  </div>
  <!--<h3 style="margin-top: 15px; margin-bottom: 0px; text-align: center;">Check the box next to your starting city as well as your final destination city. This will be used for record-keeping purposes:</h3>-->
   <!--<md-card class="inset-background">-->
    
    <!--<div style="margin-top: 8px; margin-right: 0px;" layout="row" layout-align="center center">-->

    <!--</div>-->
    <div style="margin-top: 8px; margin-right: 0px;" layout="row" layout-align="center center">
      <md-input-container layout-gt-xs="row" layout-align-gt-xs="center center">
        <h4 style="margin-bottom: 10px;">
            From City: 
          </h4>
        <input type="text" placeholder="i.e. Portland" required>
      </md-input-container layout-gt-xs="row" layout-align-gt-xs="center center">
      <md-input-container>
        <h4 style="margin-bottom: 10px;">
            To City: 
          </h4>
        <input type="text" placeholder="i.e Seattle" required>
      </md-input-container>
      <!--<md-button ng-click="$ctrl.toggleSideNav()" class="md-raised md-accent">Add Travelers</md-button>-->
    </div>
    <!--<h4 ng-if="$ctrl.added" style="text-align: center; margin-bottom: 10px;">Travel Companions Added. Thank You!</h4> -->
  <!--</md-card>-->

  <div layout="column" layout-align="space-around center">

    <md-content 
      class="md-padding card-background" 
      ng-repeat="new in $ctrl.newFlights track by $index" 
      layout="row" 
      layout-align-gt-sm="center center"
      layout-margin>
        <!--<div style="margin-top: 8px; margin-right: 0px;">
          <span style="margin-right: 5px;">Starting city?</span><md-checkbox ng-model="new.departure" aria-label="Starting city?"></md-checkbox>
        </div>          -->
        <form ng-submit="$event.preventDefault()">
          <md-autocomplete
              md-select-on-match
              md-selected-item="new.from"
              md-search-text="new.searchFrom"
              md-items="item in $ctrl.querySearch(new.searchFrom)"
              md-item-text="item.display"
              md-min-length="0"
              md-require-match="true"
              placeholder="Departure Airport/City">
            <md-item-template>
              <span md-highlight-text="new.searchFrom" md-highlight-flags="^i">{{item.display}}</span>
            </md-item-template>
          </md-autocomplete>
          <br/>
        </form>

        <form ng-submit="$event.preventDefault()">
          <md-autocomplete
              md-select-on-match
              md-selected-item="new.to"
              md-search-text="new.searchTo"
              md-items="item in $ctrl.querySearch(new.searchTo)"
              md-item-text="item.display"
              md-min-length="0"
              placeholder="Destination Airport/City">
            <md-item-template>
              <span md-highlight-text="new.searchTo" md-highlight-flags="^i">{{item.display}}</span>
            </md-item-template>
          </md-autocomplete>
          <br/>
        </form>
         <!-- this captures name of final destination city -->
        <!--<div style="margin-top: 8px; margin-right: 0px;">
          <span style="margin-right: 5px;">Destination city?</span><md-checkbox ng-model="new.destination" aria-label="Destination city?"></md-checkbox>
        </div>-->
        <md-button class="md-raised md-warn" style="margin-bottom: 22px;" ng-click="$ctrl.removeFlight(new, $index)">Remove Flight</md-button>
    
    </md-content>
    
    <md-button ng-click="$ctrl.submitFlights()" class="md-raised md-accent">Submit Flights</md-button>

  </div>
</md-card>
